**æœ€åæ›´æ–°æ›´æ–°æ—¶é—´ï¼š2020-02-05 15:54**


**ä¸ºä¿è¯å¤§å¤šæ•°ç”¨æˆ·ä½“éªŒä¸å‡è½»ç½‘ç«™è´Ÿæ‹…ï¼Œè¯·è‡ªè§‰è°ƒå¤§ time sleepï¼Œå‡å°‘å¹¶å‘**

**å·²ç»è°ƒèŠ‚åˆ°äº†20-40såˆ·æ–°ä¸€å¼ å›¾ç‰‡ï¼Œä¸äººç±»æ­£å¸¸é˜…è¯»é€Ÿåº¦ç›¸ä¼¼ï¼Œè¯·å¤§å®¶ä¸è¦è°ƒå¿«é€Ÿåº¦ï¼Œé¿å…å¯¹æœåŠ¡å™¨é€ æˆè¿‡å¤§çš„è´Ÿæ‹…ï¼Œä¹Ÿé¿å…å°æ‰è‡ªå·±çš„è´¦å·ï¼Œè¯·å¤§å®¶åˆç†ä½¿ç”¨**

> (ç™½å¤©ä¸‹è½½ä¸æ­£å¸¸æ˜¯ä¸€ä¸ªå¾ˆæ­£å¸¸çš„äº‹æƒ…)ï¼Œå»ºè®®å¼€å‘è€…çœ‹åˆ°åå°†å›¾ç‰‡æ‰”åˆ°CDNä¸Šé¢



**å¦‚æœä¸‹è½½å‡ºç°å¼‚å¸¸ï¼Œåˆ é™¤å¼‚å¸¸å›¾ç‰‡å†é‡æ–°æ‰§è¡Œç›¸åŒçš„å‘½ä»¤å³å¯ã€‚å·²ç»ä¸‹è½½çš„é¡µé¢ä¼šè‡ªåŠ¨è·³è¿‡**

**å·²ç»æ ¹æ®åŸé¡¹ç›®çš„patch1å’Œ2åšäº†ä¿®æ”¹ï¼Œé¦–æ¬¡ä½¿ç”¨è¯·å…ˆç™»å½•ç½‘ç«™å¹¶å¤åˆ¶cookiesä¸­çš„PHPSESSIDåˆ°cookies.txtä¸­çš„{Here Input You Cookies}å¤„ã€‚

# æ–‡æ³‰å­¦å ‚ ç¦»çº¿é˜…è¯»è½¬æ¢å™¨

æ–‡æ³‰å­¦å ‚è§£æå·¥å…·è‡ªåŠ¨ç”Ÿæˆpdfï¼Œ**æ–¹ä¾¿**ç”¨æˆ·é€šè¿‡ç¦»çº¿çš„æ–¹å¼é˜…è¯»æ–‡æ³‰å­¦å ‚**å…è´¹**çš„èµ„æºã€‚åˆ‡å‹¿å•†ç”¨å’Œå¹¿æ³›ä¼ æ’­ã€‚-\_-

åˆ©ç”¨`python3`è‡ªåŠ¨ä¸‹è½½æ–‡æ³‰å­¦å ‚å­¦å ‚æä¾›çš„å…è´¹çš„pdfä¹¦ç±ï¼ˆä»…ä¾›æµ‹è¯•ï¼Œè¯·24å°æ—¶å†…åˆ é™¤ï¼‰

## ğŸŒ™ æœ‰æ•ˆæ€§

| æ—¶é—´             | çŠ¶æ€                                                         |
| ---------------- | ------------------------------------------------------------ |
| 2020-02-03 04:00 | å‘å¸ƒï¼Œä¸‹è½½ä¸æ»‘æµç•…                                           |
| 2020-02-03 12:00 | ç”¨æˆ·åé¦ˆï¼Œä¸‹è½½çŠ¶æ€æ­£å¸¸                                       |
| 2020-02-03 16:00 | åé¦ˆä¸‹è½½è¶…æ—¶ï¼Œå¢åŠ è¶…æ—¶ä¸è‡ªåŠ¨é‡è¯•ï¼Œå»¶é•¿time sleepæ—¶é—´åˆ°2.5s   |
|                  | é€šè¿‡æ­£å¸¸é¡µé¢é˜…è¯»ï¼Œå‘ç°åŠ è½½é€Ÿåº¦æ…¢                             |
| 2020-02-03 17:00 | åšä¸ªæ­£å¸¸äººï¼Œ5ç§’çœ‹ä¸€ä¸ªé¡µé¢ã€‚æŒ‚ç€ç©æ¸¸æˆå§â€¦â€¦                    |
| 2020-02-03 17:27 | ä¸‹è½½è¿‡ç¨‹ä¸­è®°å¾—å»imgçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰**æ²¡æœ‰åŠ è½½**çš„å›¾ç‰‡ï¼ŒåŠæ—¶åœæ‰ç­‰å‡ åˆ†é’Ÿå†é‡æ–°å¯åŠ¨ã€‚ |
|                  | å»¶é•¿time sleepæ—¶é—´ä¸º5-10sï¼ˆéšæœºï¼‰                            |
| 2020-02-03 21:00 | ç”¨çš„äººå¤ªå¤šäº†ï¼Œå¡æ­»ä¸åŠ¨äº†ã€‚                                   |
| 2020-02-04 00:30 | ä¸‹è½½æ¢å¤ï¼Œä¼°è®¡äººéƒ½å»ç¡è§‰äº†ã€‚                                 |
| 2020-02-04 00:50 | ä¸‹è½½å¼‚å¸¸ï¼Œå˜æˆ5kå›¾ç‰‡ï¼ˆä¼°è®¡æ˜¯å“ªä½è€å“¥åŠ ç­ï¼Ÿï¼‰                 |
| 2020-02-04 01:08 | ä¿®å¤ä¸‹è½½å¼‚å¸¸ï¼Œå¢åŠ 10kå›¾ç‰‡æ¯”å¯¹ã€‚æ²¡æœ‰å¢åŠ 5kå›¾ç‰‡æ¯”å¯¹ï¼ˆå†æ¬¡å‡ºç°å†è¯´ï¼‰ |
| 2020-02-04 01:28 | å¢åŠ ç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‡½æ•°ï¼Œç›´æ¥è¿è¡Œ`python main.py`å³å¯       |
| 2020-02-04 02:39 | è¢«å°IPã€å…³äº†æ•°æ®æ¥å£ã€å•ä¸ªipè®¿é—®ä¸Šé™ç­‰é—®é¢˜ï¼Œè¢«é™åˆ¶è®¿é—®ï¼Œè®¿é—®å…¨éƒ¨å®šå‘åˆ°5kå›¾ç‰‡ |
| 2020-02-04 03:04 | å¢åŠ è¯†åˆ«5kå›¾ç‰‡                                               |
| 2020-02-04 03:47 | å¢åŠ éšæœºUser-Agentï¼Œè™½ç„¶æ²¡ä»€ä¹ˆç”¨                             |
| 2020-02-05 15:54 | æ ¹æ®åŸé¡¹ç›®çš„patch1&2è¿›è¡Œäº†è°ƒæ•´ï¼Œæ”¯æŒæ–°ç‰ˆéœ€è¦ç™»é™†çš„æƒ…å½¢|



## â¤å…è´£å£°æ˜

> æ‰€å‘å¸ƒçš„ä¸€åˆ‡ç ´è§£è¡¥ä¸ã€æ³¨å†Œæœºå’Œæ³¨å†Œä¿¡æ¯åŠè½¯ä»¶çš„è§£å¯†åˆ†ææ–‡ç« ä»…é™ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼›ä¸å¾—å°†ä¸Šè¿°å†…å®¹ç”¨äºå•†ä¸šæˆ–è€…éæ³•ç”¨é€”ï¼Œå¦åˆ™ï¼Œä¸€åˆ‡åæœè¯·ç”¨æˆ·è‡ªè´Ÿã€‚æœ¬ç«™ä¿¡æ¯æ¥è‡ªç½‘ç»œï¼Œç‰ˆæƒäº‰è®®ä¸æœ¬ç«™æ— å…³ã€‚æ‚¨å¿…é¡»åœ¨ä¸‹è½½åçš„24ä¸ªå°æ—¶ä¹‹å†…ï¼Œä»æ‚¨çš„ç”µè„‘ä¸­å½»åº•åˆ é™¤ä¸Šè¿°å†…å®¹ã€‚å¦‚æœæ‚¨å–œæ¬¢è¯¥ç¨‹åºï¼Œè¯·æ”¯æŒæ­£ç‰ˆè½¯ä»¶ï¼Œè´­ä¹°æ³¨å†Œï¼Œå¾—åˆ°æ›´å¥½çš„æ­£ç‰ˆæœåŠ¡ã€‚å¦‚æœ‰ä¾µæƒè¯·é‚®ä»¶ä¸æˆ‘ä»¬è”ç³»å¤„ç†ã€‚



## âœ¨ å®‰è£…

- å‰æœŸå‡†å¤‡

	- æ³¨å†Œã€ç™»å½• github
	- ç‚¹å‡»å³ä¸Šè§’çš„ `â­Star`
	- æƒ³ç‚¹`Fork`ä¹Ÿå¯ä»¥ï¼Œå¯ä»¥forkåˆ°è‡ªå·±çš„ä»“åº“ä»¥æäº¤pr
	
- ä¸‹è½½ä¸å®‰è£…

  - å®‰è£…[GIT](https://gitforwindows.org/)
  - å®‰è£…python3   [x86-64  ](https://www.python.org/ftp/python/3.6.6/python-3.6.6-amd64.exe) [x86](https://www.python.org/ftp/python/3.6.6/python-3.6.6.exe) 
  - ä½¿ç”¨`git clone https://github.com/kajweb/wqxuetang_downloader.git`å…‹éš†ä»£ç 

- ä¸‹è½½ä¾èµ–

  - æ‰“å¼€å‘½ä»¤è¡Œï¼Œä½¿ç”¨`pip install -r requirements`å®‰è£…ä¾èµ–

  - è¿è¡Œ`python main.py`

  - > å…¶ä¸­ï¼Œbook_idæ˜¯é˜…è¯»ç•Œé¢åé¢çš„5-8ä½æ•°å­—

  
  
  ç”±äºç½‘ç«™ï¼ˆç®€ç§°ï¼šå¯¹æ–¹ï¼‰ç»å¸¸æ›´æ–°ï¼Œåœ¨å¯¹æ–¹æ›´æ–°åæˆ‘ä»¬è¿™è¾¹ä¹Ÿä¼šåŠæ—¶æ›´æ–°ã€‚è¿™æ—¶å€™ä½ çš„ç”µè„‘å°±éœ€è¦æ‰§è¡Œæ›´æ–°ä»£ç æ“ä½œã€‚
  
  ```
  git pull
  ```
  
  
  
  

## ğŸ”¥ åŠŸèƒ½

ä¸‹è½½å…è´¹çš„å›¾ä¹¦çš„å›¾ç‰‡ï¼Œç”Ÿæˆpdfä¹¦ç±

- æ™®é€šä¸‹è½½

```
python main.py
```

- ä¸‹è½½æ•´ä¹¦

```ssh
python main.py <book_id>
```

- æŒ‡å®šé¡µç ä¸‹è½½
```ssh
python main.py <book_id> <start_page>  <end_page>
```

- æŒ‡å®šä¸‹è½½å‰Né¡µ
```ssh
python main.py <book_id> <end_page>
```



## âŒ›ï¸ å¸¸è§é—®é¢˜

- ä¸ä¼šå®‰è£…ä¾èµ–åº“

  > ç›´æ¥ä½¿ç”¨pip install -r requirementså®‰è£…å³å¯

- no model named: fitz

  > æ‰§è¡Œpip install pymupdfï¼Œå®‰è£…[pymupdf](https://pymupdf.readthedocs.io/en/latest/)å³å¯

- AttributeError: module 'jwt' has no attribute 'encode'

  > jwtåº“å‘½åå†²çªï¼Œå¸è½½jwtï¼Œé‡æ–°å®‰è£…[pyjwt](https://pyjwt.readthedocs.io/en/latest/).
  
- configparser.NoSectionError: No section: 'wqxt'

  > è·¯å¾„é—®é¢˜ï¼Œåˆ‡ç¨‹åºç›®å½•ä¸‹è¿è¡Œ

- å…¶ä»–é—®é¢˜

  > å¤§å®¶æ³¨æ„æ›´æ–°ï¼Œä¸€èˆ¬æ¥è¯´ç°é˜¶æ®µæ›´æ–°éƒ½æ˜¯æ¯”è¾ƒé‡è¦çš„æ›´æ–°ï¼Œä¸æ›´æ–°å¯èƒ½ä¼šå¯¼è‡´æ— æ³•ä½¿ç”¨ï¼ˆgit pullï¼‰

## âš¡ å£°æ˜

**é‚®ç®±ä¸æ¥å—ä½¿ç”¨é—®é¢˜ï¼ˆå¦¹å­é™¤å¤–ï¼‰ï¼Œä½¿ç”¨å­˜åœ¨é—®é¢˜è¯·åœ¨[`Issues`](https://github.com/kajweb/wqxuetang_downloader/issues)ä¸­æå‡º**

è‹¥æœ¬åº”ç”¨ä¾µçŠ¯äº†æ‚¨çš„æƒç›Šï¼Œæˆ–é€ æˆä¸åˆ©å½±å“ï¼Œè¯·è”ç³» lyy@iwwee.com å¹¶æä¾›å¾®ä¿¡å·ç ï¼Œåœ¨ç¡®è®¤èº«ä»½åæˆ‘å°†ç«‹å³ä¸‹æ¶æœ¬åº”ç”¨ã€‚

æ¬¢è¿ Star å’Œ Fork ~

å¦‚æœä½ æœ‰ä»€ä¹ˆé—®é¢˜è¯·æ Issue



## ğŸ“ƒ LICENSE

[MIT](https://opensource.org/licenses/mit-license.php)





## å…¶ä»–æ¸ é“

> å…¶ä»–æ¸ é“æœªå°è¯•ä¸éªŒè¯ï¼Œä¸ä¿è¯å¯ä»¥æ­£å¸¸ä½¿ç”¨

[gumblex/wqxt_pdf](https://github.com/gumblex/wqxt_pdf) (Python)

[æ–‡æ³‰å­¦å ‚pdfä¸€é”®ä¸‹è½½](https://greasyfork.org/zh-CN/scripts/396025-æ–‡æ³‰å­¦å ‚pdfä¸‹è½½) (æ²¹çŒ´è„šæœ¬)   [github](https://github.com/Kevin0z0/wenquan-pdf-download)

[[SweetInk](https://github.com/SweetInk)/wqxuetang-pdf-downloader](https://github.com/SweetInk/wqxuetang-pdf-downloader) (Java)

[sinceNa/wqxuetang ](https://github.com/sinceNa/wqxuetang)(NodeJS)